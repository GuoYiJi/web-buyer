global.webpackJsonp([26],{AYNF:function(e,t,a){"use strict";var n=a("woOf"),s=a.n(n),r=a("//Fk"),i=a.n(r),c=a("Xxa5"),o=a.n(c),u=a("exGp"),d=a.n(u),p=a("qTHA"),f=a("90m7"),l=a("e0QN");t.a={mixins:[f.a],components:{},data:function(){return{xz:"",isChoice:"",visible2:!1,pageaddresList:[],pageNumber:1,pageSize:10,totalPage:"",lastPage:!1,loading:!1}},methods:{dian:function(e,t){var a=this;return d()(o.a.mark(function t(){var n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isChoice){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,l.a.editddres({isChoice:1,addressId:e.id});case 4:n=t.sent,1===n.code&&(s=a.pageaddresList.splice(1,1),a.pageaddresList=s.concat(a.pageaddresList).map(function(e,t){return e.isChoice=0===t?1:0,e}));case 7:case"end":return t.stop()}},t,a)}))()},toOpen:function(e){var t=this;return d()(o.a.mark(function a(){var n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=t,p.a.showModal({title:"提示",content:"是否删除？",success:function(t){t.confirm?n.del(e):t.cancel&&console.log("用户点击取消")}});case 2:case"end":return a.stop()}},a,t)}))()},del:function(e){var t=this;return d()(o.a.mark(function a(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.deleteddres({addressId:e});case 2:n=t.sent,1===n.code&&(p.a.showToast({title:"删除成功",icon:"none",duration:1500}),setTimeout(function(){p.a.startPullDownRefresh()},1500));case 5:case"end":return t.stop()}},a,t)}))()},bj:function(e){var t=this;return d()(o.a.mark(function a(){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.$router.push({path:"/pages/my/address/edit",query:{id:e}});case 1:case"end":return a.stop()}},a,t)}))()},toRoute:function(){this.$router.push({path:"/pages/my/address/new",query:{count:this.pageaddresList.length}})},addrd:function(){var e=this;return d()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.pageaddres({pageNumber:e.pageNumber,pageSize:e.pageSize});case 2:a=t.sent,e.pageaddresList=a.data.list;case 4:case"end":return t.stop()}},t,e)}))()},fetch:function(){var e=this;return d()(o.a.mark(function t(){var a,n,s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.loading&&!e.lastPage){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.next=5,l.a.pageaddres({pageNumber:e.pageNumber,pageSize:e.pageSize});case 5:return a=t.sent,n=a.data,s=n.list,r=n.lastPage,e.loading=!1,e.pageNumber++,e.lastPage=r,e.pageaddresList=e.pageaddresList.concat(s),t.abrupt("return",i.a.resolve());case 14:case"end":return t.stop()}},t,e)}))()}},onPullDownRefresh:function(){var e=this;return d()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.pageNumber=1,e.lastPage=!1,e.pageaddresList=[],t.next=5,e.fetch();case 5:p.a.stopPullDownRefresh();case 6:case"end":return t.stop()}},t,e)}))()},onReachBottom:function(){var e=this;return d()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.fetch();case 1:case"end":return t.stop()}},t,e)}))()},onShow:function(){p.a.getStorageSync("address_store")&&(p.a.removeStorageSync("address_store"),this.pageaddresList=[],this.lastPage=!1,this.pageNumber=1,this.fetch())},mounted:function(){var e=this;return d()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetch();case 2:case"end":return t.stop()}},t,e)}))()},onUnload:function(){s()(this,this.$options.data())}}},Fgyk:function(e,t,a){"use strict";var n=a("AYNF"),s=a("NEMs");var r=function(e){a("r6nV")},i=a("ybqe")(n.a,s.a,r,"data-v-4a87e161",null);t.a=i.exports},NEMs:function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav"},[e._l(e.pageaddresList,function(t,n){return a("div",{key:t.id,staticClass:"kuang"},[a("p",{staticClass:"name"},[e._v(e._s(t.name)+" "+e._s(t.mobile))]),e._v(" "),a("p",{staticClass:"diZhi"},[e._v(e._s(t.address))]),e._v(" "),a("div",{staticClass:"k2"},[a("p",{attrs:{eventid:"0-"+n},on:{click:function(a){e.dian(t,n)}}},[a("i",{class:{m_img:t.isChoice,m_wimg:!t.isChoice}}),e._v(" "),a("span",{staticClass:"m_text"},[e._v("默认地址")])],1),e._v(" "),a("span",{staticClass:"kong"}),e._v(" "),a("p",[a("i",{staticClass:"b_img"}),e._v(" "),a("span",{staticClass:"b_text",attrs:{eventid:"1-"+n},on:{click:function(a){e.bj(t.id)}}},[e._v("编辑")])],1),e._v(" "),a("p",{attrs:{eventid:"2-"+n},on:{click:function(a){e.toOpen(t.id)}}},[a("i",{staticClass:"s_img"}),e._v(" "),a("span",{staticClass:"s_text"},[e._v("删除")])],1)],1)],1)}),e._v(" "),e.loading?a("div",[a("zan-loading",{attrs:{mpcomid:"0"}})],1):e._e(),e._v(" "),!e.pageaddresList.length&&e.lastPage?a("div",[a("zan-loadmore",{attrs:{type:"text",text:"暂无数据",mpcomid:"1"}})],1):e._e(),e._v(" "),e.pageaddresList.length&&e.lastPage?a("div",[a("zan-loadmore",{attrs:{type:"text",mpcomid:"2"}})],1):e._e(),e._v(" "),a("span",{staticClass:"btn",attrs:{eventid:"3"},on:{click:function(t){e.toRoute()}}},[e._v("新增收货地址")])],2)},staticRenderFns:[]};t.a=n},r6nV:function(e,t){}},["tGZP"]);