global.webpackJsonp([26],{"7Khp":function(e,t){},OoNm:function(e,t,i){"use strict";var a=i("oTKS"),s=i("zgLZ");var n=function(e){i("7Khp")},o=i("ybqe")(a.a,s.a,n,"data-v-6aae2743",null);t.a=o.exports},oTKS:function(e,t,i){"use strict";var a=i("woOf"),s=i.n(a),n=i("Xxa5"),o=i.n(n),r=i("exGp"),c=i.n(r),d=i("qTHA"),l=i("e0QN"),h=i("zQ/8");t.a={components:{},mixins:[h.a],data:function(){return{region:[],pageaddresList:[],customItem:"全部",kgkt:0,postcode:"",recode:"",isChoice:0,hasChoice:!1,tid:"",name:"",phone:"",address:""}},methods:{bindRegionChange:function(e){console.log(e),this.region=e.mp.detail.value,this.postcode=e.mp.detail.postcode,this.recode=e.mp.detail.code},kgk:function(){this.hasChoice?d.a.showToast({title:"需设定一个默认地址",icon:"none",duration:1500}):1==this.isChoice?this.isChoice=0:0==this.isChoice&&(this.isChoice=1)},btn:function(){1==this.recode.length?this.recode=this.recode[0]:2==this.recode.length?this.recode=this.recode[1]:3==this.recode.length&&(this.recode=this.recode[2]),this.editddres()},editddres:function(){var e=this;return c()(o.a.mark(function t(){var i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i={name:e.name,mobile:e.phone,address:e.address,value:e.region.join(","),isChoice:e.isChoice,areaId:e.recode,addressId:e.tid},e.validate(i).then(function(t){d.a.showLoading({title:"正在保存..."}),l.a.editddres(i).then(function(t){d.a.showToast({title:"更新成功",icon:"none"}),d.a.setStorageSync("address_store",{type:"update",payload:i}),setTimeout(function(){e.$router.back()},1500)}).finally(function(){d.a.hideLoading()})});case 2:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;return c()(o.a.mark(function t(){var i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.tid=e.$mp.query.id,d.a.showLoading({title:"加载中"}),t.next=4,l.a.pageaddres({pageNumber:1,pageSize:99});case 4:i=t.sent,d.a.hideLoading(),i.data.list.some(function(t){if(e.tid===t.id)return e.name=t.name,e.phone=t.mobile,e.address=t.address,e.region=t.value.split(","),e.isChoice=t.isChoice,1===t.isChoice&&(e.hasChoice=!0),!0});case 7:case"end":return t.stop()}},t,e)}))()},onUnload:function(){s()(this,this.$options.data())}}},zgLZ:function(e,t,i){"use strict";var a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nav"},[i("block",[i("div",{staticClass:"item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"name",attrs:{"placeholder-class":"placeholder-input",type:"text",placeholder:"收货人",eventid:"0"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"phone",attrs:{"placeholder-class":"placeholder-input",maxlength:"11",type:"number",placeholder:"手机号码",eventid:"1"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"item"},[i("picker",{staticClass:"region",attrs:{mode:"region",value:e.region,eventid:"2"},on:{change:e.bindRegionChange}},[i("view",{staticClass:"picker"},[e._v("\n          "+e._s(e.region.length>0?e.region[0]+"-"+e.region[1]+"-"+e.region[2]:"所在地址:")+"\n        ")])])],1),e._v(" "),i("div",{staticClass:"item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"address",attrs:{"placeholder-class":"placeholder-input",type:"text",placeholder:"详细地址",eventid:"3"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"tacitly"},[i("p",{staticClass:"tacitlyDz"},[e._v("设为默认地址")]),e._v(" "),1==e.isChoice?i("i",{staticClass:"kgk",attrs:{eventid:"4"},on:{click:function(t){e.kgk()}}}):e._e(),e._v(" "),0==e.isChoice?i("i",{staticClass:"kgg",attrs:{eventid:"5"},on:{click:function(t){e.kgk()}}}):e._e()],1)]),e._v(" "),i("span",{staticClass:"btn",attrs:{eventid:"6"},on:{click:function(t){e.btn()}}},[e._v("保存地址")])],1)},staticRenderFns:[]};t.a=a}},["+UmR"]);