global.webpackJsonp([24],{"4VrD":function(e,t,i){"use strict";var s=i("oZhV"),n=i("l43s");var a=function(e){i("wg9U")},o=i("ybqe")(s.a,n.a,a,"data-v-afd40f12",null);t.a=o.exports},l43s:function(e,t,i){"use strict";var s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nav"},[i("div",{staticClass:"item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"name",attrs:{"placeholder-class":"placeholder-input",type:"text",placeholder:"收货人",eventid:"0"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"phone",attrs:{"placeholder-class":"placeholder-input",maxlength:"11",type:"number",placeholder:"手机号码",eventid:"1"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"item"},[i("picker",{staticClass:"region",attrs:{mode:"region",value:e.region,eventid:"2"},on:{change:e.bindRegionChange}},[i("view",{staticClass:"picker"},[e._v("\n        "+e._s(e.region.length>0?e.region[0]+"-"+e.region[1]+"-"+e.region[2]:"所在地址")+"\n      ")])])],1),e._v(" "),i("div",{staticClass:"item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"address",attrs:{"placeholder-class":"placeholder-input",type:"text",placeholder:"详细地址",eventid:"3"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"tacitly"},[i("p",{staticClass:"tacitlyDz"},[e._v("设为默认地址")]),e._v(" "),1==e.isChoice?i("i",{staticClass:"kgk",attrs:{eventid:"4"},on:{click:function(t){e.kgk()}}}):e._e(),e._v(" "),0==e.isChoice?i("i",{staticClass:"kgg",attrs:{eventid:"5"},on:{click:function(t){e.kgk()}}}):e._e()],1),e._v(" "),i("span",{staticClass:"btn",attrs:{eventid:"6"},on:{click:function(t){e.btn()}}},[e._v("保存地址")])])},staticRenderFns:[]};t.a=s},oZhV:function(e,t,i){"use strict";var s=i("woOf"),n=i.n(s),a=i("Xxa5"),o=i.n(a),c=i("exGp"),r=i.n(c),d=i("qTHA"),l=i("e0QN"),h=i("zQ/8");t.a={components:{},mixins:[h.a],data:function(){return{count:0,region:[],customItem:"全部",kgkt:0,postcode:"",recode:"",isChoice:0,hasChoice:!1}},methods:{bindRegionChange:function(e){this.region=e.mp.detail.value,this.postcode=e.mp.detail.postcode,this.recode=e.mp.detail.code},kgk:function(){this.hasChoice?d.a.showToast({title:"需要设置一个默认地址",icon:"none"}):1==this.isChoice?this.isChoice=0:0==this.isChoice&&(this.isChoice=1)},btn:function(){1===this.recode.length?this.recode=this.recode[0]:2===this.recode.length?this.recode=this.recode[1]:3===this.recode.length&&(this.recode=this.recode[2]),this.addres()},addres:function(){var e=this;return r()(o.a.mark(function t(){var i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.region.join(","),i={name:e.name,mobile:e.phone,address:e.address,value:e.region.join(","),isChoice:e.isChoice,areaId:e.recode},e.validate(i).then(function(t){d.a.showLoading({title:"添加中"}),l.a.addres(i).then(function(t){d.a.setStorageSync("address_store",{type:"add",payload:i}),e.$router.back()}).catch(function(e){console.log(e)}).finally(function(){d.a.hideLoading()})});case 3:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this.$route.query.count;this.count=Number(e),Number(e)||(this.isChoice=1,this.hasChoice=!0)},onUnload:function(){n()(this,this.$options.data())}}},wg9U:function(e,t){}},["3smQ"]);