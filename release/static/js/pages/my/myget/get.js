global.webpackJsonp([4],{REQR:function(t,s,a){"use strict";var e=a("dF0Y"),i=a("uOLd");var n=function(t){a("htxz")},l=a("ybqe")(e.a,i.a,n,"data-v-b543d19c",null);s.a=l.exports},WkKK:function(t,s,a){"use strict";var e=a("sv3E"),i=a("uGVE");var n=function(t){a("zgtf")},l=a("ybqe")(e.a,i.a,n,"data-v-560efc3a",null);s.a=l.exports},dF0Y:function(t,s,a){"use strict";var e=a("qTHA"),i=(a("xzGo"),a("dIy6"));s.a={mixins:[i.a],name:"orderList",components:{},data:function(){return{shopName:""}},props:{ordersValueList:{type:Array,default:[]},skuCodeList:{type:Array,default:[]}},methods:{toOpen:function(){},toClose:function(){},toPinDetails:function(t){this.$router.push({path:"/pages/my/orderDetails/obligation",query:{id:t}})},handleBtnClick:function(t,s){switch(s){case 0:this.handleOrderCancel(t).then(function(t){e.a.startPullDownRefresh()});break;case 1:this.handleOrderDelete(t).then(function(t){e.a.startPullDownRefresh()});break;case 2:this.handleOrderDone(t).then(function(t){e.a.startPullDownRefresh()})}}},created:function(){var t=this;this.ordersValueList.forEach(function(s,a){t.skuCodeList[a]=[],s.goodsList[0].skuList.forEach(function(s,e){console.log(s,a,e);var i=s.skuCode.split(",")[0],n=s.skuCode.split(",")[1];console.log(i,n),t.skuCodeList[a][e]=[i,n,s.num,s.num-s.remainNum,s.remainNum]})})},mounted:function(){this.shopName=e.a.getStorageSync("shopName")}}},htxz:function(t,s){},sv3E:function(t,s,a){"use strict";var e=a("woOf"),i=a.n(e),n=a("Xxa5"),l=a.n(n),c=a("Dd8w"),o=a.n(c),r=a("//Fk"),d=a.n(r),_=a("exGp"),v=a.n(_),u=a("qTHA"),h=a("REQR"),C=a("e0QN");a("iZoB");s.a={components:{fasiAll:h.a},data:function(){return{tag:0,skuCodeList:[],loading:!1,navData:[{id:"all",pageNumber:1,state:null,title:"全部",list:[]},{id:"topay",pageNumber:1,state:1,title:"待付款",list:[]},{id:"ping",pageNumber:1,state:9,title:"拼团中",list:[]},{id:"tosend",pageNumber:1,state:5,title:"待发货",list:[]},{id:"sign",pageNumber:1,state:6,title:"待收货",list:[]},{id:"done",pageNumber:1,state:7,title:"已完成",list:[]}],selectedId:"",ordersValueList:[]}},methods:{handleZanTabChange:function(t){var s=t.mp.detail;s!==this.selectedId&&(this._initFetch(s),this.selectedId=s,this.fetch())},fetch:function(){var t=this;return v()(l.a.mark(function s(){return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",new d.a(function(){var s=v()(l.a.mark(function s(a,e){var i,n,c,r,d,_,v,u,h;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=t.navData.findIndex(function(s){return s.id===t.selectedId}),n=t.navData[i],c=n.state,!t.loading&&!n.lastPage){s.next=5;break}return s.abrupt("return");case 5:return t.loading=!0,s.next=8,C.a.myorder({pageNumber:n.pageNumber,pageSize:20,state:c,isPing:1});case 8:r=s.sent,d=r.code,_=r.data,v=_.list,u=_.lastPage,t.loading=!1,1===d?(h=[],v.forEach(function(t,s){h[s]=[],t.goodsList[0].skuList.forEach(function(t,a){var e=t.skuCode.split(",")[0],i=t.skuCode.split(",")[1];h[s][a]=[e,i,t.num,t.num-t.remainNum,t.remainNum]})}),console.log(v),t.navData.splice(i,1,o()({},n,{lastPage:u,skuCodeList:h,list:n.list.concat(v),pageNumber:n.pageNumber+1})),a()):e();case 15:case"end":return s.stop()}},s,t)}));return function(t,a){return s.apply(this,arguments)}}()));case 1:case"end":return s.stop()}},s,t)}))()},_initFetch:function(t){var s=this.navData.findIndex(function(s){return s.id===t});this.navData.splice(s,1,o()({},this.navData[s],{list:[],skuCodeList:[],lastPage:!1,pageNumber:1}))}},onPullDownRefresh:function(){this._initFetch(this.selectedId),this.fetch().finally(function(){u.a.stopPullDownRefresh()})},onReachBottom:function(){this.fetch()},mounted:function(){this.selectedId=this.navData[this.tag].id,this.fetch()},onUnload:function(){i()(this,this.$options.data())}}},uGVE:function(t,s,a){"use strict";var e={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"home"},[a("zan-tab",{attrs:{list:t.navData,"selected-id":t.selectedId,eventid:"0",mpcomid:"0"},on:{tabchange:t.handleZanTabChange}}),t._v(" "),a("div",{staticClass:"content"},t._l(t.navData,function(s,e){return t.selectedId===s.id?a("div",{key:e},[a("fasiAll",{attrs:{ordersValueList:s.list,skuCodeList:s.skuCodeList,mpcomid:"1-"+e}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[a("zan-loading",{attrs:{mpcomid:"2-"+e}})],1),t._v(" "),!s.list.length&&s.lastPage?a("div",[a("zan-loadmore",{attrs:{type:"text",text:"暂无数据",mpcomid:"3-"+e}})],1):t._e(),t._v(" "),s.list.length&&s.lastPage?a("div",[a("zan-loadmore",{attrs:{type:"text",mpcomid:"4-"+e}})],1):t._e()],1):t._e()}))],1)},staticRenderFns:[]};s.a=e},uOLd:function(t,s,a){"use strict";var e={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"home"},t._l(t.ordersValueList,function(s,e){return a("div",{key:s.id,staticClass:"kuang"},[a("div",{staticClass:"head"},[a("span",{staticClass:"h-title"},[t._v(t._s(t.shopName))]),t._v(" "),a("span",{staticClass:"h-text"},[t._v(t._s(1===s.state?"未支付":2===s.state?"取消交易":5===s.state?"拼单成功，待发货":6===s.state?"拼单成功，待收货 ":7===s.state?"拼单成功，已完成":8===s.state?"交易关闭":9===s.state?"拼单中":10===s.state?"审核中":"未知状态"))])]),t._v(" "),1===s.layer?a("block",[5!==s.state?a("div",{staticClass:"van-cell van-cell--clickable goods-thumb__list",attrs:{eventid:"0-"+e},on:{click:function(a){t.handleShopListClick(s.goodsList)}}},[a("div",{staticClass:"van-cell__title"},t._l(s.goodsList,function(s,e){return a("span",{key:e,staticClass:"goods-thumb-item"},[s.image&&e<3?a("img",{staticClass:"n-img",attrs:{src:s.image,mode:"aspectFill"}}):e<3?a("img",{staticClass:"n-img",attrs:{src:"http://www.qckj.link/upload/goods/20180520/1526794348353_160563.jpg"}}):t._e()])})),t._v(" "),a("div",{staticClass:"van-icon van-icon-arrow van-cell__right-icon"})]):a("div",{staticClass:"van-cell goods-thumb__list"},[a("div",{staticClass:"van-cell__title"},t._l(s.goodsList,function(s,e){return a("span",{key:e,staticClass:"goods-thumb-item"},[s.image&&e<3?a("img",{staticClass:"n-img",attrs:{src:s.image,mode:"aspectFill"}}):e<3?a("img",{staticClass:"n-img",attrs:{src:"http://www.qckj.link/upload/goods/20180520/1526794348353_160563.jpg"}}):t._e()])}))])]):2===s.layer?a("div",{staticClass:"nav"},[t._l(s.goodsList,function(s,e){return e<1?a("img",{key:s.goodsId,staticClass:"n-img",attrs:{src:s.image}}):t._e()}),t._v(" "),a("div",{staticClass:"goodsDetail"},[a("span",{staticClass:"title"},[t._v(t._s(s.goodsList[0].name))]),t._v(" "),t._l(s.goodsList,function(s,e){return a("span",{key:e,staticClass:"skuCode"},t._l(s.skuList,function(s,e){return a("p",{key:e},[t._v(t._s(s.skuCode))])}))})],2)],2):t._e(),t._v(" "),a("div",{staticClass:"below"},[a("div",{staticClass:"van-cell"},[a("div",{staticClass:"van-cell__title"},[a("span",{staticClass:"goods-buy__info"},[t._v("共"),a("span",{staticClass:"goods-buy__num"},[t._v(t._s(s.goodsList[0].skuList.length))]),t._v("个款  "),a("span",{staticClass:"goods-buy__num"},[t._v(t._s(s.goodsList.length))]),t._v("件商品  ")])]),t._v(" "),a("div",{staticClass:"van-cell__value"},[a("span",{staticClass:"goods-buy__total"},[t._v("合计:")]),t._v(" "),a("span",{staticClass:"goods-buy__price"},[t._v("￥"+t._s(s.paid))]),t._v(" "),a("span",{staticClass:"cap-express__fee"},[t._v("（含运费￥"+t._s(s.freight)+"）")])])]),t._v(" "),t._e()]),t._v(" "),5===s.state&&s.children.length?a("table",{staticClass:"skuCode"},[a("tr",[a("th"),t._v(" "),a("th",[t._v("颜色")]),t._v(" "),a("th",[t._v("码数")]),t._v(" "),a("th",[t._v("总件数")]),t._v(" "),a("th",[t._v("已发")]),t._v(" "),a("th",[t._v("未发")]),t._v(" "),a("th")],1),t._v(" "),t._l(t.skuCodeList[e],function(s,e){return a("tr",{key:e},[a("td"),t._v(" "),t._l(s,function(s,e){return a("td",{key:e},[t._v(t._s(s))])}),t._v(" "),a("td")],2)})],2):t._e(),t._v(" "),t._l(s.children,function(s,i){return a("div",{key:i,staticClass:"van-cell van-hairline",attrs:{eventid:"1-"+e+"-"+i},on:{click:function(a){t.handleChildClick(s)}}},[a("div",{staticClass:"van-cell__title"},[a("span",[t._v("子订单编号("+t._s(6===s.state?"已发货":7===s.state?"交易成功":8===s.state?"交易关闭":10===s.state?"售后中":"未知状态")+"): "+t._s(s.orderNo))])]),t._v(" "),a("i",{staticClass:"van-icon van-icon-arrow van-cell__right-icon"})],1)}),t._v(" "),a("div",{staticClass:"below"},[a("div",{staticClass:"below__bottom van-cell van-hairline"},[1===s.state?a("div",{staticClass:"van-cell__value"},[a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"2-"+e},on:{click:function(a){t.handleBtnClick(s.id,0)}}},[t._v("取消订单")])]),t._v(" "),a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"3-"+e},on:{click:function(a){t.toPinDetails(s.id)}}},[t._v("查看详情")])]),t._v(" "),a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn below__btn--primary",attrs:{eventid:"4-"+e},on:{click:function(a){t.toPinDetails(s.id)}}},[t._v("确认付款")])])]):2===s.state?a("div",{staticClass:"van-cell__value"},[a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"5-"+e},on:{click:function(a){t.handleBtnClick(s.id,1)}}},[t._v("删除订单")])]),t._v(" "),a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"6-"+e},on:{click:function(a){t.toPinDetails(s.id)}}},[t._v("查看详情")])])]):5===s.state?a("block",[a("div",{staticClass:"avatars"},t._l(s.pingUser,function(s,e){return e<3?a("i",{key:e,staticClass:"avatar",style:{"background-image":"url("+s.head+")"}}):t._e()})),t._v(" "),a("div",{staticClass:"van-cell__value"},[a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn below__btn--primary",attrs:{eventid:"7-"+e},on:{click:function(a){t.toPinDetails(s.id)}}},[t._v("查看详情")])])])]):6===s.state?a("block",[a("div",{staticClass:"avatars"},t._l(s.pingUser,function(s,e){return e<3?a("i",{key:e,staticClass:"avatar",style:{"background-image":"url("+s.head+")"}}):t._e()})),t._v(" "),a("div",{staticClass:"van-cell__value"},[a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"8-"+e},on:{click:function(a){t.toPinDetails(s.id)}}},[t._v("查看详情")])])])]):6===s.state&&2===s.layer?a("block",[a("div",{staticClass:"avatars"},t._l(s.pingUser,function(t,s){return a("i",{key:s,staticClass:"avatar",style:{"background-image":"url("+t.head+")"}})})),t._v(" "),a("div",{staticClass:"van-cell__value"},[a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"9-"+e},on:{click:function(a){t.handleBtnClick(s.id,2)}}},[t._v("确认收货")])]),t._v(" "),a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"10-"+e},on:{click:function(a){t.handleLogistics(s.id)}}},[t._v("查看物流")])]),t._v(" "),a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"11-"+e},on:{click:function(a){t.handleOrderAfterSale(s.id,s.paid,s.freight,1)}}},[t._v("申请售后")])]),t._v(" "),a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"12-"+e},on:{click:function(a){t.toPinDetails(s.id)}}},[t._v("查看详情")])])])]):7===s.state?a("block",[a("div",{staticClass:"avatars"},t._l(s.pingUser,function(s,e){return e<3?a("i",{key:e,staticClass:"avatar",style:{"background-image":"url("+s.head+")"}}):t._e()})),t._v(" "),a("div",{staticClass:"van-cell__value"},[a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"13-"+e},on:{click:function(a){t.handleBtnClick(s.id,1)}}},[t._v("删除订单")])]),t._v(" "),a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"14-"+e},on:{click:function(a){t.toPinDetails(s.id)}}},[t._v("查看详情")])])])]):7===s.state&&2===s.layer?a("block",[a("div",{staticClass:"avatars"},t._l(s.pingUser,function(s,e){return e<3?a("i",{key:e,staticClass:"avatar",style:{"background-image":"url("+s.head+")"}}):t._e()})),t._v(" "),a("div",{staticClass:"van-cell__value"},[a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"15-"+e},on:{click:function(a){t.handleBtnClick(s.id,1)}}},[t._v("删除订单")])]),t._v(" "),a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"16-"+e},on:{click:function(a){t.toPinDetails(s.id)}}},[t._v("查看详情")])])])]):9===s.state?a("block",[a("div",{staticClass:"avatars"},[t._l(s.pingUser,function(s,e){return e<3?a("i",{key:s.id,staticClass:"avatar",style:{"background-image":"url("+s.head+")"}}):t._e()}),t._v(" "),a("i",{staticClass:"avatar avatar--default"})],2),t._v(" "),a("div",{staticClass:"van-cell__value"},[a("div",{staticClass:"btn__cell"},[a("span",{staticClass:"below__btn",attrs:{eventid:"17-"+e},on:{click:function(a){t.toPinDetails(s.id)}}},[t._v("查看详情")])])])]):t._e()],1)])],2)}))},staticRenderFns:[]};s.a=e},zgtf:function(t,s){}},["cr2S"]);