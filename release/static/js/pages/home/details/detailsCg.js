global.webpackJsonp([29],{NCV3:function(s,t,i){"use strict";var a={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"nav"},[i("div",{staticClass:"head"},[i("swiper",{attrs:{"indicator-dots":s.indicatorDots,autoplay:s.autoplay,interval:s.interval,duration:s.duration}},s._l(s.imgUrls,function(t,a){return i("block",{key:a},[i("swiper-item",{staticClass:"coupon-img",attrs:{mpcomid:"0-"+a}},[i("image",{staticClass:"slide-image",attrs:{src:t}}),s._v(" "),i("i",{staticClass:"h_bf"})],1)],1)})),s._v(" "),i("p",{staticClass:"title",domProps:{textContent:s._s(s.goodsInfo.name)}}),s._v(" "),i("div",{staticClass:"text"},[i("p",{staticClass:"price"},[s._v("批发价：")]),s._v(" "),i("p",{staticClass:"money"},[s._v("￥"+s._s(s.goodsInfo.sellPrice))]),s._v(" "),i("p",{staticClass:"goods"},[s._v("货期: "+s._s(s.goodsInfo.delivery)+"    销量: "+s._s(9999==s.goodsInfo.sellCount?"9999+":s.goodsInfo.sellCount))]),s._v(" "),i("div",{staticClass:"like",attrs:{eventid:"0"},on:{click:function(t){s.Collect()}}},[s.isLike?i("i",{staticClass:"img_xh"}):s._e(),s._v(" "),s.isLike?s._e():i("i",{staticClass:"img_xh1"}),s._v(" "),i("p",[s._v("喜欢")])],1),s._v(" "),i("span",{staticClass:"xian"}),s._v(" "),i("div",{staticClass:"share",attrs:{eventid:"1"},on:{click:function(t){s.toOpen("visible1")}}},[i("i",{staticClass:"img_fx"}),s._v(" "),i("p",[s._v("分享")])],1),s._v(" "),i("i-modal",{attrs:{visible:s.visible1,eventid:"2",mpcomid:"1"},on:{ok:function(t){s.toClose("visible1")},cancel:function(t){s.toClose("visible1")}}},[i("i",{staticClass:"m_img"}),s._v(" "),i("div",{staticClass:"m_tips"},[s._v("微信好友")])],1)],1)],1),s._v(" "),i("div",{staticClass:"shop"},[i("span",{staticClass:"text"},[s._v("该商品支持转发铺货")]),s._v(" "),i("span",{staticClass:"btn",attrs:{eventid:"3"},on:{click:function(t){s.toOpen("visible2")}}},[s._v("一键铺货")])]),s._v(" "),i("i-modal",{attrs:{visible:s.visible2,eventid:"4",mpcomid:"2"},on:{ok:function(t){s.toClose("visible2")},cancel:function(t){s.toClose("visible2")}}},[i("div",{staticClass:"m_tips"},[s._v("是否一键转到自己的小程序店铺进行出售？")])]),s._v(" "),i("div",{staticClass:"group"},[i("div",{staticClass:"g_head"},[i("p",{staticClass:"gh_title"},[s._v("团长正在招募团员，你可以直接参团")]),s._v(" "),i("p",{staticClass:"gh_text",attrs:{eventid:"5"},on:{click:function(t){s.more=!0}}},[s._v("查看更多>>")])],1),s._v(" "),s._l(s.pingOrder,function(t,a){return a<=1?i("div",{key:a,staticClass:"middle"},s._l(t.pingUser,function(e,o){return 1===e.isLeader?i("div",{key:o,staticClass:"box"},[e.head?i("img",{staticClass:"mh_img",attrs:{src:e.head}}):i("img",{staticClass:"mh_img",attrs:{src:"http://www.qckj.link/upload/goods/20180520/1526794348353_160563.jpg"}}),s._v(" "),i("div",{staticClass:"m_title"},[s._v(s._s(e.name?e.name:"未填写"))]),s._v(" "),i("div",{staticClass:"m_text"},[i("p",{staticClass:"mt_1"},[s._v("还差"+s._s(t.chaNum)+"人成团")]),s._v(" "),i("p",{staticClass:"mt_2"},[s._v("截止"+s._s(t.endTime))])],1),s._v(" "),i("div",{staticClass:"m_btn",attrs:{eventid:"6-"+a+"-"+o},on:{click:function(t){s.chakanT(a)}}},[s._v("去参团")])]):s._e()})):s._e()})],2),s._v(" "),i("div",{staticClass:"label"},s._l(s.tags,function(t,a){return t?i("span",{key:a,staticClass:"btn_1",domProps:{textContent:s._s(t.name)}}):s._e()})),s._v(" "),i("div",{staticClass:"description"},[i("p",{staticClass:"commodity"},[s._v("商品说明")]),s._v(" "),i("p",{staticClass:"commodity"},[s._v("分类："),i("span",[s._v(s._s(s.goodsInfo.labelInfo))])]),s._v(" "),s._l(s.specGroup,function(t,a){return i("p",{key:a,staticClass:"commodity"},[s._v(s._s(t.value)+"："),s._l(t.specAttr,function(t,a){return i("span",{key:a},[s._v(s._s(t.name))])})],2)})],2),s._v(" "),i("div",{staticClass:"picture"},[i("p",{staticClass:"title_2"},[s._v("实拍图片")]),s._v(" "),s._l(s.details,function(t,a){return t?i("img",{key:a,staticClass:"pic_img",attrs:{src:t}}):s._e()})],2),s._v(" "),i("div",{staticClass:"foot"},[i("div",{staticClass:"service"},[i("i",{staticClass:"img_kf"}),s._v(" "),i("p",{staticClass:"xqkf"},[s._v("客服")])],1),s._v(" "),i("div",{staticClass:"cart",attrs:{eventid:"7"},on:{click:function(t){s.popup(1)}}},[s._v("单独采购")]),s._v(" "),i("div",{staticClass:"immediately",attrs:{eventid:"8"},on:{click:function(t){s.popup(2)}}},[s._v("我要开团")])]),s._v(" "),1==s.suspension?i("div",{staticClass:"suspension"},[i("div",{staticClass:"top"},[i("i",{staticClass:"top_img"}),s._v(" "),i("p",{staticClass:"top_text"},[s._v("顶部")])],1),s._v(" "),i("br"),s._v(" "),i("div",{staticClass:"home"},[i("i",{staticClass:"home_img"}),s._v(" "),i("p",{staticClass:"home_text"},[s._v("首页")])],1),s._v(" "),i("br")],1):s._e(),s._v(" "),s.popupShow?i("div",{staticClass:"popup"},[i("div",{staticClass:"kuang_1"},[i("img",{staticClass:"pop_img",attrs:{src:"http://www.qckj.link/upload/goods/20180520/1526794348353_160563.jpg"}}),s._v(" "),i("p",{staticClass:"pop_money"},[s._v("￥"+s._s(s.goodsInfo.sellPrice))]),s._v(" "),i("p",{staticClass:"pop_title",domProps:{textContent:s._s(s.goodsInfo.name)}}),s._v(" "),i("i",{staticClass:"gb",attrs:{eventid:"9"},on:{click:function(t){s.popupShow=!1}}})],1),s._v(" "),i("div",{staticClass:"kuang_2"},[i("p",{staticClass:"k2_title"},[s._v("颜色")]),s._v(" "),i("div",{staticClass:"k2_btnk"},s._l(s.skuAttr,function(t,a){return i("span",{key:a,staticClass:"k2_btn",class:{active:a===s.colorIndex},attrs:{eventid:"10-"+a},on:{click:function(i){s.selectColorSpec(a,t.colorVal)}}},[s._v(s._s(t.colorVal)+"\n          ")])}))],1),s._v(" "),i("div",{staticClass:"kuang_3"},[i("ul",{staticClass:"s_item_box box1"},[i("li",{staticClass:"s_item"},[s._v("尺码")]),s._v(" "),i("li",{staticClass:"s_item"},[s._v("购买数量")])],1),s._v(" "),s._l(s.skuAttr[s.colorIndex].sizeArray,function(t,a){return i("ul",{key:a,staticClass:"s_item_box"},[i("li",{staticClass:"s_item"},[s._v(s._s(t.sizeVal))]),s._v(" "),i("li",{staticClass:"s_item"},[i("span",{staticClass:"minus",attrs:{eventid:"11-"+a},on:{click:function(t){s.minus(s.colorIndex,a)}}}),s._v(" "),i("span",{staticClass:"count"},[s._v(s._s(t.sizeNum))]),s._v(" "),i("span",{staticClass:"add",attrs:{eventid:"12-"+a},on:{click:function(t){s.add(s.colorIndex,a)}}})])],1)})],2),s._v(" "),i("div",{staticClass:"kuang_4"},[i("p",{staticClass:"k4_title"},[s._v("已选")]),s._v(" "),s._l(s.skuAttr,function(t,a){return i("p",{key:a,staticClass:"k4_text"},[s._v(s._s(t.colorVal)+"："),s._l(t.sizeArray,function(t,a){return i("span",{key:a},[s._v(s._s(t.sizeVal)+"/"+s._s(t.sizeNum)+"件;")])})],2)})],2),s._v(" "),i("span",{staticClass:"btn",attrs:{eventid:"13"},on:{click:function(t){s.confirmBth()}}},[s._v("确定")])]):s._e(),s._v(" "),s.more?i("div",{staticClass:"moreK"},[i("div",{staticClass:"more"},[i("div",{staticClass:"g-head"},[i("p",{staticClass:"g-text"},[s._v("3人在招募团员")]),s._v(" "),i("i",{staticClass:"g-img",attrs:{eventid:"14"},on:{click:function(t){s.more=!1}}})],1),s._v(" "),i("scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":""}},[s._l(s.pingOrder,function(t,a){return i("div",{key:a,staticClass:"middle"},s._l(t.pingUser,function(e,o){return 1===e.isLeader?i("div",{key:o,staticClass:"box"},[e.head?i("img",{staticClass:"mh_img",attrs:{src:e.head}}):i("img",{staticClass:"mh_img",attrs:{src:"http://www.qckj.link/upload/goods/20180520/1526794348353_160563.jpg"}}),s._v(" "),i("div",{staticClass:"m_title"},[s._v(s._s(e.name?e.name:"未填写"))]),s._v(" "),i("div",{staticClass:"m_text"},[i("p",{staticClass:"mt_1"},[s._v("还差"+s._s(t.chaNum)+"人成团")]),s._v(" "),i("p",{staticClass:"mt_2"},[s._v("截止"+s._s(t.endTime))])],1),s._v(" "),i("div",{staticClass:"m_btn",attrs:{eventid:"15-"+a+"-"+o},on:{click:function(t){s.chakanT(a)}}},[s._v("去参团")])]):s._e()}))}),s._v(" "),i("div",{staticStyle:{height:"100px"}})],2)],1)]):s._e(),s._v(" "),s.cT?i("div",{staticClass:"cT"},[i("p",{staticClass:"c-time"},[s._v("距结束:01天12时12分21秒")]),s._v(" "),i("p",{staticClass:"c-title"},[s._v("还差"+s._s(s.wellPingUser.chaNum)+"人成团，赶快加入吧！")]),s._v(" "),s._l(s.wellPingUser.heads,function(s,t){return i("div",{key:t,staticClass:"c-imgk"},[i("img",s?{staticClass:"c-img",attrs:{src:s}}:{staticClass:"c-img",attrs:{src:"http://www.qckj.link/upload/goods/20180520/1526794348353_160563.jpg"}})])}),s._v(" "),i("div",{staticClass:"btn"},[i("span",{staticClass:"b-qx",attrs:{eventid:"16"},on:{click:function(t){s.cT=0}}},[s._v("取消")]),s._v(" "),i("span",{staticClass:"b-ct",attrs:{eventid:"17"},on:{click:function(t){s.popup(3,s.wellPingUser.id)}}},[s._v("立即参团")])])],2):s._e()],1)},staticRenderFns:[]};t.a=a},khGB:function(s,t,i){"use strict";var a=i("rg1X"),e=i("NCV3");var o=function(s){i("sbpz")},n=i("ybqe")(a.a,e.a,o,"data-v-5f63ec5e",null);t.a=n.exports},rg1X:function(s,t,i){"use strict";var a=i("mvHQ"),e=i.n(a),o=i("Xxa5"),n=i.n(o),c=i("exGp"),l=i.n(c),r=(i("qTHA"),i("QmSG"),i("xzGo"));t.a={components:{},data:function(){return{imgUrls:[],indicatorDots:!0,autoplay:!0,interval:5e3,duration:1e3,suspension:0,popupShow:!1,visible1:!1,visible2:!1,more:!1,cT:!1,isLike:!1,buyType:"",goodsInfo:{},tags:[],details:[],specGroup:"",skuList:"",colorIndex:0,skuAttr:[],pingOrderId:"",pingOrder:"",wellPingUser:{}}},onPageScroll:function(s){s.scrollTop>300?this.suspension=1:s.scrollTop<300&&(this.suspension=0)},methods:{Collect:function(){var s=this;return l()(n.a.mark(function t(){var i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.isLike){t.next=8;break}return t.next=3,r.a.deleteCollect({goodsId:s.goodsInfo.id});case 3:i=t.sent,console.log("收藏",i),1===i.code&&(s.isLike=!1),t.next=12;break;case 8:return t.next=10,r.a.addCollect({goodsId:s.goodsInfo.id});case 10:1===t.sent.code&&(s.isLike=!0);case 12:case"end":return t.stop()}},t,s)}))()},popup:function(s,t){this.popupShow=!0,this.buyType=s,3===s&&(this.pingOrderId=t,this.cT=!1)},confirmBth:function(){for(var s={},t=[],i=[],a=0,o=0,n=this.goodsInfo.sellPrice,c=this.goodsInfo.ping.price,l=0;l<this.skuAttr.length;l++)for(var r=0;r<this.skuAttr[l].sizeArray.length;r++){var v={};if(0!==this.skuAttr[l].sizeArray[r].sizeNum){var d=this.skuAttr[l].colorVal,_=this.skuAttr[l].sizeArray[r].sizeVal,u=this.skuAttr[l].color,p=this.skuAttr[l].sizeArray[r].sizeId,h=this.skuAttr[l].sizeArray[r].sizeNum,g=u+","+p;a+=Number(h);for(var m=!1,C="",f=0;f<i.length;f++){if(i[f].substring(0,1)===d){i[f]+=_+"/"+h+"件;",m=!0;break}}m||(C=d+": "+_+"/"+h+"件;",i.push(C));for(var k=0;k<this.skuList.length;k++)this.skuList[k].attrIds===g&&(v.skuId=this.skuList[k].id);v.num=h,t.push(v)}}s={goods:this.goodsInfo,skuObj:t,skuCode:i,totalPrice:o,totalNum:a},console.log("type",this.buyType),1===this.buyType&&(o=a*n),console.log(this.goodsInfo.ping.id),2!==this.buyType&&3!==this.buyType||(s.pingId=this.goodsInfo.ping.id,o=a*c),3===this.buyType&&(s.pingOrderId=this.pingOrderId),console.log(s),this.$router.push({path:"/pages/shopping/order/order",query:{group:e()(s)}})},selectColorSpec:function(s){this.colorIndex=s},minus:function(s,t){if(0===this.skuAttr[s].sizeArray[t].sizeNum)return!1;this.skuAttr[s].sizeArray[t].sizeNum--},add:function(s,t){if(console.log(s,t),100===this.skuAttr[s].sizeArray[t].sizeNum)return!1;this.skuAttr[s].sizeArray[t].sizeNum++},toOpen:function(s){this[s]=!0},toClose:function(s){this[s]=!1},xqxh:function(){console.log(this),0===this.xh?this.xh=1:1===this.xh&&(this.xh=0)},handleChange1:function(s){var t=s.mp.detail;this.value1=t.value},handleChange2:function(s){var t=s.mp.detail;this.value2=t.value},chakanT:function(s){this.cT=!this.cT;var t={},i=this.pingOrder[s].pingUser;t.id=this.pingOrder[s].id,t.endTime=this.pingOrder[s].endTime,t.chaNum=this.pingOrder[s].chaNum,t.heads=[];for(var a=0;a<i.length;a++)console.log(i[a].head),null===i[a].head?t.heads.push(" "):t.heads.push(i[a].head);console.log(t),this.wellPingUser=t}},mounted:function(){this.goodsInfo=JSON.parse(this.$route.query.obj),this.imgUrls=this.goodsInfo.images.split(","),this.tags=this.goodsInfo.tagsList,this.details=this.goodsInfo.content.split(","),this.specGroup=this.goodsInfo.sku.specGroup,this.skuList=this.goodsInfo.sku.skuList,this.isLike=this.goodsInfo.isLike,this.ping=this.goodsInfo.ping,this.pingOrder=this.goodsInfo.pingOrder;for(var s=0;s<this.pingOrder.length;s++){var t=this.pingOrder[s].pingUser;this.pingOrder[s].endTime=this.ping.endTime,this.pingOrder[s].chaNum=this.ping.num-t.length}console.log(this.goodsInfo);for(var i=this.goodsInfo.sku.skuList,a=[],e=0;e<i.length;e++){var o=i[e],n={},c=o.attrIds.split(","),l=o.skuCode.split(",");n.color=c[0],n.colorVal=l[0];var r=[],v={};v.sizeId=c[1],v.sizeVal=l[1],v.sizeNum=0,r.push(v),n.sizeArray=r;for(var d=!1,_=0;_<a.length;_++)if(a[_].color===n.color){a[_].sizeArray.push(v),d=!0;break}d||a.push(n)}this.skuAttr=a}}},sbpz:function(s,t){}},["RL74"]);