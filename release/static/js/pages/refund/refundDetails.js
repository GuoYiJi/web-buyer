global.webpackJsonp([11],{"5h59":function(s,t,e){"use strict";var a={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return s.isFetch?e("div",{staticClass:"wrapper"},[e("div",{staticClass:"refundInfo"},[e("p",{staticClass:"refundState"},[s._v("\n      "+s._s(s.state[s.details.refundType]+","+s.stateName[s.details.state])+"\n    ")]),s._v(" "),s.isFh?e("p",{staticClass:"title"},[s._v("请将商品寄回以下地址并填写物流单号：")]):s._e(),s._v(" "),s.isFh?e("div",{staticClass:"addressBox"},[e("p",{staticClass:"name"},[s._v("收货人："+s._s(s.details.addressName+"     "+s.details.addressMobile))]),s._v(" "),e("p",{staticClass:"address"},[s._v("收货地址："+s._s(s.details.addressValue))])],1):s._e(),s._v(" "),s.isFh?e("div",{staticClass:"logisticsNumber"},[e("p",{staticClass:"text"},[s._v("物流单号")]),s._v(" "),4==s.details.state||6==s.details.state?e("p",{staticClass:"num"}):s._e(),s._v(" "),3==s.details.state?e("div",{staticClass:"label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.logisticsNum,expression:"logisticsNum"}],staticClass:"number",attrs:{type:"number",eventid:"0"},domProps:{value:s.logisticsNum},on:{input:function(t){t.target.composing||(s.logisticsNum=t.target.value)}}}),s._v(" "),e("span",{staticClass:"btn",attrs:{eventid:"1"},on:{click:function(t){s.sendNum(s.details.id)}}},[s._v("点击发送")])]):s._e()],1):s._e(),s._v(" "),e("p",{staticClass:"title"},[s._v(s._s(s.state[s.details.refundType])+"信息")]),s._v(" "),s._l(s.goods,function(t,a){return e("div",{key:a,staticClass:"refundGoods"},[e("div",{staticClass:"img"},[t.image?e("img",{attrs:{src:t.image,alt:""}}):e("img",{attrs:{src:"../../assets/img/classify/goods.png",alt:""}})]),s._v(" "),e("div",{staticClass:"text"},[e("p",{staticClass:"name"},[s._v(s._s(t.name))]),s._v(" "),e("p",{staticClass:"spec"},[s._v(s._s(t.skuCode)+" / "+s._s(t.num)+"件")])],1)])}),s._v(" "),e("div",{staticClass:"businessInfo"},[e("p",[s._v("卖家："+s._s(s.shopName))]),s._v(" "),e("p",[s._v(s._s(s.state[s.details.refundType])+"原因："+s._s(s.details.result))]),s._v(" "),e("p",[s._v("退款金额："+s._s(s.details.price))]),s._v(" "),e("p",[s._v("申请时间："+s._s(s.details.createTime))]),s._v(" "),e("p",[s._v("编号："+s._s(s.details.orderRefundNo))])],1)],2),s._v(" "),e("div",{staticClass:"btnGroup clearfix"},[0==s.details.state||2==s.details.state?e("div",{staticClass:"revise",attrs:{eventid:"2"},on:{click:s.revise}},[s._v("修改申请")]):s._e(),s._v(" "),0==s.details.state?e("div",{staticClass:"cancel",attrs:{eventid:"3"},on:{click:s.revokes}},[s._v("撤销申请")]):s._e(),s._v(" "),e("div",{staticClass:"cancel contact"},[s._v("联系客服 "),e("button",{attrs:{"open-type":"contact"}},[s._v("联系客服")])],1)]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.wellMsgShow,expression:"wellMsgShow"}],staticClass:"wellMsg"},[s._v("\n    "+s._s(s.msg)+"\n  ")])]):s._e()},staticRenderFns:[]};t.a=a},"5hBY":function(s,t,e){"use strict";var a=e("PWnL"),i=e("5h59");var n=function(s){e("LJfC")},r=e("ybqe")(a.a,i.a,n,"data-v-64d02b30",null);t.a=r.exports},LJfC:function(s,t){},PWnL:function(s,t,e){"use strict";var a=e("woOf"),i=e.n(a),n=e("mvHQ"),r=e.n(n),d=e("Xxa5"),o=e.n(d),c=e("exGp"),l=e.n(c),u=e("qTHA"),v=e("xzGo");t.a={data:function(){return{isFh:!1,msg:"",wellMsgShow:!1,state:["退款","退货","换货"],stateName:["等待商家处理","已完成","商家已拒绝","商家已同意","等待商家确认收货","已撤销"],shopName:"",details:{},goods:[],stateIndex:"",refundTypeIndex:"",logisticsNum:"",isFetch:!1}},methods:{sendNum:function(s){var t=this;return l()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t.logisticsNum){e.next=7;break}return e.next=3,v.a.sendLogisticsNum({logistics:t.logisticsNum,orderRefundId:s});case 3:a=e.sent,console.log(a),e.next=8;break;case 7:t.mySetTimeout("请输入物流单号！");case 8:case"end":return e.stop()}},e,t)}))()},revise:function(){var s=this.details.refundType,t=void 0;switch(s){case 0:case 1:t="/pages/refund/refund";break;case 2:t="/pages/refund/barter"}3!=s?this.$router.push({path:t,query:{orderId:this.details.orderId,type:s,price:this.details.price,freight:this.details.freight,data:r()({result:this.details.result,img1:this.details.img1,img2:this.details.img2,img3:this.details.img3})}}):this.$router.push({path:t,query:{orderId:this.orderId,type:s}})},revokes:function(){this.$router.back()},mySetTimeout:function(s){var t=this;t.wellMsgShow=!0,t.msg=s,setTimeout(function(){t.wellMsgShow=!1,t.msg=""},1e3)}},created:function(){var s=this;return l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=s,u.a.getStorage({key:"shopName",success:function(s){e.shopName=s.data}});case 2:case"end":return t.stop()}},t,s)}))()},mounted:function(){var s=this;return l()(o.a.mark(function t(){var e,a,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u.a.showLoading({title:"加载中"}),t.next=3,v.a.getRefundDetails({orderRefundId:s.$route.query.id});case 3:e=t.sent,s.isFetch=!0,u.a.hideLoading(),1===e.code&&(s.details=e.data,s.goods=e.data.goodsList,s.stateIndex=e.data.state,s.refundTypeIndex=e.data.refundType,a=e.data.refundType,i=e.data.state,1!==a&&2!==a||(0!==i&&2!==i&&5!==i||(s.isFh=!1),1!==i&&3!==i&&4!==i||(s.isFh=!0)));case 7:case"end":return t.stop()}},t,s)}))()},onUnload:function(){i()(this,this.$options.data())}}}},["9uQR"]);