global.webpackJsonp([13],{HlBt:function(t,e,s){"use strict";var i=s("woOf"),a=s.n(i),n=s("Xxa5"),o=s.n(n),c=s("exGp"),r=s.n(c),l=s("qTHA"),m=s("xzGo");s("QmSG");e.a={data:function(){return{orderRefundId:"",orderId:"",type:"",isType:!0,isCheck:0,reasonList:[{id:1,text:"不喜欢/不想要"},{id:2,text:"未按约定时间发货"},{id:3,text:"空包裹"},{id:4,text:"快递/物流未送达"}],img1:"",img2:"",img3:"",reason:"",wellShow:!1,wellMsgShow:!1,msg:"",explain:""}},components:{},methods:{check:function(t,e){this.isCheck=this.reasonList[t].id,this.reason=e,this.wellShow=!1,this.type=this.reasonList[t].id},chooseImg:function(t){var e=this;l.a.chooseImage({count:1,success:function(s){console.log(s),e.uploadImg(s.tempFilePaths[0],function(s){e.img=s,1===t&&(e.img1=s),2===t&&(e.img2=s),3===t&&(e.img3=s)})}})},uploadImg:function(t,e){t.lastIndexOf("/");console.log("3432234")},closeImg:function(t,e){e.stopPropagation(),this[t]=""},submit:function(){var t=this;return r()(o.a.mark(function e(){var s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.explain){e.next=3;break}return t.mySetTimeout("请填写换货说明!"),e.abrupt("return",!1);case 3:return l.a.showLoading(),e.next=6,m.a.retreatGoods({orderId:t.orderId,refundType:t.type,content:t.explain,type:t.type,img1:t.img1,img2:t.img2,img3:t.img3});case 6:s=e.sent,l.a.hideLoading(),1===s.code?t.orderRefundId?(l.a.setStorageSync("update",!0),t.$router.back()):(l.a.setStorageSync("refundSuccess",!0),console.log("data",s),t.$router.replace({path:"/pages/refund/barterDetails",query:{id:s.data.id}})):l.a.showToast({title:s.desc,icon:"none",duration:1500});case 9:case"end":return e.stop()}},e,t)}))()},mySetTimeout:function(t){var e=this;e.wellMsgShow=!0,e.msg=t,setTimeout(function(){e.wellMsgShow=!1,e.msg=""},1e3)}},mounted:function(){this.orderId=this.$route.query.orderId,this.type=this.$route.query.type},onUnload:function(){a()(this,this.$options.data())}}},Jn0b:function(t,e){},"Y+gb":function(t,e,s){"use strict";var i=s("HlBt"),a=s("b/Vh");var n=function(t){s("Jn0b")},o=s("ybqe")(i.a,a.a,n,"data-v-c2f62f40",null);e.a=o.exports},"b/Vh":function(t,e,s){"use strict";var i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("p",{staticClass:"refundReason",attrs:{eventid:"0"},on:{click:function(e){t.wellShow=!0}}},[t._v("换货原因"),s("span",{staticClass:"reason"},[t._v(t._s(t.reason))])]),t._v(" "),s("div",{staticClass:"refundExplain"},[s("p",{staticClass:"title"},[t._v("换货说明：")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.explain,expression:"explain"}],staticClass:"explain",attrs:{name:"",id:"",maxlength:"50",placeholder:"(最多可输入50个字)",eventid:"1"},domProps:{value:t.explain},on:{input:function(e){e.target.composing||(t.explain=e.target.value)}}})],1),t._v(" "),s("div",{staticClass:"refundVoucher"},[s("p",{staticClass:"title"},[t._v("上传凭证："),s("span",[t._v("(最多可上传3张)")])]),t._v(" "),s("div",{staticClass:"images"},[s("div",{staticClass:"img",attrs:{eventid:"3"},on:{click:function(e){t.chooseImg(1)}}},[t.img1?s("img",{attrs:{src:t.img1,alt:""}}):s("img",{attrs:{src:"../../assets/img/my/upimg.png",alt:""}}),t._v(" "),t.img1?s("span",{staticClass:"close",attrs:{eventid:"2"},on:{click:function(e){t.closeImg("img1",t.event)}}}):t._e()]),t._v(" "),t.img1?s("div",{staticClass:"img",attrs:{eventid:"5"},on:{click:function(e){t.chooseImg(2)}}},[t.img2?s("img",{attrs:{src:t.img2,alt:""}}):s("img",{attrs:{src:"../../assets/img/my/upimg.png",alt:""}}),t._v(" "),t.img2?s("span",{staticClass:"close",attrs:{eventid:"4"},on:{click:function(e){t.closeImg("img2",t.event)}}}):t._e()]):t._e(),t._v(" "),t.img2?s("div",{staticClass:"img",attrs:{eventid:"7"},on:{click:function(e){t.chooseImg(3)}}},[t.img3?s("img",{attrs:{src:t.img3,alt:""}}):s("img",{attrs:{src:"../../assets/img/my/upimg.png",alt:""}}),t._v(" "),t.img3?s("span",{staticClass:"close",attrs:{eventid:"6"},on:{click:function(e){t.closeImg("img3",t.event)}}}):t._e()]):t._e()])],1),t._v(" "),s("div",{staticClass:"submit",attrs:{eventid:"8"},on:{click:t.submit}},[t._v("提交")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.wellShow,expression:"wellShow"}],staticClass:"well"},[s("div",{staticClass:"box"},[s("p",{staticClass:"head"},[t._v("请选择换货原因")]),t._v(" "),t._l(t.reasonList,function(e,i){return s("p",{key:i,staticClass:"select",attrs:{eventid:"9-"+i},on:{click:function(s){t.check(i,e.text)}}},[s("span",{staticClass:"check",class:{checked:t.isCheck==e.id}}),t._v(" "),s("span",[t._v(t._s(e.text))])])})],2)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.wellMsgShow,expression:"wellMsgShow"}],staticClass:"wellMsg"},[t._v("\n    "+t._s(t.msg)+"\n  ")])],1)},staticRenderFns:[]};e.a=i}},["gLOA"]);