global.webpackJsonp([12],{"2o+j":function(t,e){},LBQc:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isFetch?s("div",{staticClass:"wrapper"},[s("div",{staticClass:"refundInfo"},[s("p",{staticClass:"refundState"},[t._v("\n      "+t._s(t.state[t.details.refundType]+","+t.stateName[t.details.state])+"\n    ")]),t._v(" "),t.isFh?s("p",{staticClass:"title"},[t._v("请将商品寄回以下地址并填写物流单号：")]):t._e(),t._v(" "),t.isFh?s("div",{staticClass:"addressBox"},[s("p",{staticClass:"name"},[t._v("收货人："+t._s(t.details.shopAddressName)+" "+t._s(t.details.shopMobile))]),t._v(" "),s("p",{staticClass:"address"},[t._v("收货地址："+t._s(t.details.shopValue)+" "+t._s(t.details.shopAddress))])],1):t._e(),t._v(" "),t.isFh?s("div",{staticClass:"logisticsNumber"},[s("p",{staticClass:"text"},[t._v("物流单号")]),t._v(" "),!t.details.orderLogistics||4!=t.details.state&&6!=t.details.state?t._e():s("p",{staticClass:"num"},[t._v("\n        "+t._s(t.details.orderLogistics.logisticsNo)+"\n      ")]),t._v(" "),3==t.details.state?s("div",{staticClass:"label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.logisticsNum,expression:"logisticsNum"}],staticClass:"number",attrs:{type:"number",eventid:"0"},domProps:{value:t.logisticsNum},on:{input:function(e){e.target.composing||(t.logisticsNum=e.target.value)}}}),t._v(" "),s("span",{staticClass:"btn",attrs:{eventid:"1"},on:{click:function(e){t.sendNum(t.details.id)}}},[t._v("点击发送")])]):t._e()],1):t._e(),t._v(" "),s("p",{staticClass:"title"},[t._v("换货信息")]),t._v(" "),s("div",{staticClass:"van-cell van-cell--clickable goods-thumb__list",attrs:{eventid:"2"},on:{click:function(e){t.handleShopListClick(t.goods)}}},[s("div",{staticClass:"van-cell__title"},t._l(t.goods,function(e,a){return a<3?s("span",{key:t.j,staticClass:"goods-thumb-item"},[s("img",{staticClass:"n-img",attrs:{src:e.image,mode:"aspectFill"}})]):t._e()})),t._v(" "),s("div",{staticClass:"van-icon van-icon-arrow van-cell__right-icon"})]),t._v(" "),s("div",{staticClass:"businessInfo"},[s("p",[t._v("卖家："+t._s(t.shopName))]),t._v(" "),s("p",[t._v("换货原因："+t._s(t.reason))]),t._v(" "),s("p",[t._v("换货说明："+t._s(t.details.content))]),t._v(" "),s("p",[t._v("申请时间："+t._s(t.details.createTime))]),t._v(" "),s("p",[t._v("编号："+t._s(t.details.orderRefundNo))]),t._v(" "),s("div",[s("ul",{staticClass:"weui-uploader__files"},[t.details.img1?s("li",{staticClass:"weui-uploader__file",style:{backgroundImage:"url("+t.details.img1+")"},attrs:{alt:""}}):t._e(),t._v(" "),t.details.img2?s("li",{staticClass:"weui-uploader__file",style:{backgroundImage:"url("+t.details.img2+")"},attrs:{alt:""}}):t._e(),t._v(" "),t.details.img3?s("li",{staticClass:"weui-uploader__file",style:{backgroundImage:"url("+t.details.img3+")"},attrs:{alt:""}}):t._e()],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"btnGroup clearfix"},[0==t.details.state||2==t.details.state?s("div",{staticClass:"revise",attrs:{eventid:"3"},on:{click:t.revise}},[t._v("修改申请")]):t._e(),t._v(" "),0==t.details.state?s("div",{staticClass:"cancel",attrs:{eventid:"4"},on:{click:t.revokes}},[t._v("撤销申请")]):t._e(),t._v(" "),s("div",{staticClass:"cancel contact"},[t._v("联系客服 "),s("button",{attrs:{"open-type":"contact"}},[t._v("联系客服")])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.wellMsgShow,expression:"wellMsgShow"}],staticClass:"wellMsg"},[t._v("\n    "+t._s(t.msg)+"\n  ")])]):t._e()},staticRenderFns:[]};e.a=a},ZbWE:function(t,e,s){"use strict";var a=s("woOf"),i=s.n(a),n=s("//Fk"),r=s.n(n),o=s("Xxa5"),c=s.n(o),d=s("exGp"),l=s.n(d),u=s("qTHA"),v=s("xzGo"),p=s("dIy6");e.a={mixins:[p.a],data:function(){return{isFh:!1,msg:"",wellMsgShow:!1,state:["退款","退货","换货"],stateName:["等待商家处理","商家确认收货","商家已拒绝","商家已同意","等待商家确认收货","已撤销"],shopName:"",details:{},goods:[],logisticsNum:"",reasonList:[{id:1,text:"不喜欢/不想要"},{id:2,text:"未按约定时间发货"},{id:3,text:"空包裹"},{id:4,text:"快递/物流未送达"}],isFetch:!1}},computed:{reason:function(){var t=this,e=this.reasonList.findIndex(function(e){return e.id==t.details.type});return-1!==e?this.reasonList[e].text:""}},components:{},methods:{sendNum:function(t){var e=this;return l()(c.a.mark(function s(){var a;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(""==e.logisticsNum){s.next=9;break}return u.a.showLoading(),s.next=4,v.a.sendLogisticsNum({logisticsNo:e.logisticsNum,orderRefundId:t});case 4:a=s.sent,u.a.hideLoading(),1===a.code?u.a.startPullDownRefresh():u.a.showToast({title:a.desc,icon:"none",duration:1500}),s.next=10;break;case 9:e.mySetTimeout("请输入物流单号！");case 10:case"end":return s.stop()}},s,e)}))()},revise:function(){var t=this.details;if(console.log(t.refundType),2==t.refundType){var e=t.img1,s=t.img2,a=t.img3;this.$router.push({path:"/pages/refund/refund",query:{orderId:t.id,orderRefundId:t.id,explain:t.content,img1:e,img2:s,img3:a,type:1,price:t.price,freight:0,userType:t.type}})}else this.$router.push({path:"/pages/refund/refundDetails",query:{id:t.id,orderRefundId:t.id}})},revokes:function(){var t=this;u.a.showModal({title:"撤销申请",content:"您确定要撤销该订单的售后申请吗？",success:function(e){if(e.confirm){var s=t.details.id;v.a.backRefund({orderRefundId:s}).then(function(e){1===e.code?(u.a.setStorageSync("is-list-update",!0),t.$router.back()):u.a.showToast({title:e.desc,icon:"none",duration:1500})})}}})},mySetTimeout:function(t){var e=this;e.wellMsgShow=!0,e.msg=t,setTimeout(function(){e.wellMsgShow=!1,e.msg=""},1e3)},fetch:function(){var t=this;return l()(c.a.mark(function e(){var s,a,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getRefundDetails({orderRefundId:t.$route.query.id});case 2:return s=e.sent,t.isFetch=!0,1===s.code&&(t.details=s.data,t.goods=s.data.goodsList,a=s.data.refundType,i=s.data.state,0===a&&(t.isFh=!1),1!==a&&2!==a||(0!==i&&2!==i&&5!==i||(t.isFh=!1),1!==i&&3!==i&&4!==i||(t.isFh=!0))),e.abrupt("return",r.a.resolve());case 6:case"end":return e.stop()}},e,t)}))()}},onPullDownRefresh:function(){var t=this;return l()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch();case 2:u.a.stopPullDownRefresh();case 3:case"end":return e.stop()}},e,t)}))()},onShow:function(){u.a.getStorageSync("update")&&(u.a.removeStorageSync("update"),u.a.startPullDownRefresh())},mounted:function(){var t=this;return l()(c.a.mark(function e(){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t,u.a.getStorage({key:"shopName",success:function(t){s.shopName=t.data}}),u.a.showLoading({title:"加载中"}),e.next=5,t.fetch();case 5:u.a.hideLoading();case 6:case"end":return e.stop()}},e,t)}))()},onUnload:function(){i()(this,this.$options.data())}}},khrh:function(t,e,s){"use strict";var a=s("ZbWE"),i=s("LBQc");var n=function(t){s("2o+j")},r=s("ybqe")(a.a,i.a,n,"data-v-cb8cd61c",null);e.a=r.exports}},["Lmnw"]);